<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orbital Simulation</title>
    <style>
        body { text-align: center; font-family: Arial, sans-serif; }
        canvas { background: black; display: block; margin: auto; }
    </style>
</head>
<body>
    <h2>Kepler's Third Law - Orbital Simulation</h2>
    <canvas id="orbitCanvas" width="600" height="600"></canvas>
    <script>
        const canvas = document.getElementById("orbitCanvas");
        const ctx = canvas.getContext("2d");

        // Constants
        const G = 6.674e-11; // Gravitational constant
        const M = 1.989e30; // Mass of the Sun in kg
        const AU = 149.6e9; // One astronomical unit in meters
        const scale = 100 / AU; // Scale factor to fit on the canvas
        const dt = 60 * 60 * 24; // Time step (1 day in seconds)

        // Planet (Earth) properties
        let planet = {
            x: canvas.width / 2 + 100, // Position in pixels
            y: canvas.height / 2,
            vx: 0, // Velocity in x-direction (m/s)
            vy: 29780 * scale * dt, // Earth's orbital speed around Sun (~29.78 km/s)
            path: [] // To store the orbital path
        };

        // Sun (Star) properties
        const star = {
            x: canvas.width / 2,
            y: canvas.height / 2
        };

        function update() {
            let dx = (planet.x - star.x) / scale;
            let dy = (planet.y - star.y) / scale;
            let r = Math.sqrt(dx * dx + dy * dy);

            let F = (G * M) / (r * r); // Gravitational acceleration
            let ax = -F * (dx / r) * dt;
            let ay = -F * (dy / r) * dt;

            planet.vx += ax;
            planet.vy += ay;
            planet.x += planet.vx;
            planet.y += planet.vy;

            // Store path for visualization
            if (planet.path.length > 300) {
                planet.path.shift(); // Keep path length manageable
            }
            planet.path.push({ x: planet.x, y: planet.y });
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw Sun
            ctx.fillStyle = "yellow";
            ctx.beginPath();
            ctx.arc(star.x, star.y, 10, 0, Math.PI * 2);
            ctx.fill();

            // Draw orbital path
            ctx.strokeStyle = "rgba(0, 255, 255, 0.5)";
            ctx.beginPath();
            for (let i = 0; i < planet.path.length; i++) {
                ctx.lineTo(planet.path[i].x, planet.path[i].y);
            }
            ctx.stroke();

            // Draw Planet
            ctx.fillStyle = "blue";
            ctx.beginPath();
            ctx.arc(planet.x, planet.y, 5, 0, Math.PI * 2);
            ctx.fill();
        }

        function animate() {
            update();
            draw();
            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>
